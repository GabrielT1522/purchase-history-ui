(()=>{"use strict";var e={3116:(e,t,a)=>{var r=a(9993),o=a(4701),l=a(6665),n=a(3929),d=a(6283),i=a(8180),c=a(3701),u=a(6773),s=a(3454),f=a(9685),h=a(7366);const m=JSON.parse('[{"id":1,"date":"2024-05-24","merchant":"Walmart","category":"Groceries","amount":460.65,"taxDeductible":false},{"id":2,"date":"2024-06-06","merchant":"Walmart","category":"Office Supplies","amount":170.5,"taxDeductible":true},{"id":3,"date":"2024-05-13","merchant":"Home Depot","category":"Travel","amount":135.38,"taxDeductible":true},{"id":4,"date":"2024-03-03","merchant":"Amazon","category":"Travel","amount":416.99,"taxDeductible":true},{"id":5,"date":"2024-06-29","merchant":"Home Depot","category":"Office Supplies","amount":209.84,"taxDeductible":true},{"id":6,"date":"2024-01-17","merchant":"Amazon","category":"Medical","amount":397.31,"taxDeductible":true},{"id":7,"date":"2024-06-20","merchant":"Walmart","category":"Electronics","amount":373.11,"taxDeductible":false},{"id":8,"date":"2024-05-24","merchant":"Costco","category":"Electronics","amount":239.69,"taxDeductible":false},{"id":9,"date":"2024-06-22","merchant":"Best Buy","category":"Travel","amount":197.31,"taxDeductible":true},{"id":10,"date":"2024-02-27","merchant":"Costco","category":"Office Supplies","amount":219.27,"taxDeductible":true},{"id":11,"date":"2024-06-09","merchant":"Walmart","category":"Medical","amount":118.05,"taxDeductible":true},{"id":12,"date":"2024-05-06","merchant":"Amazon","category":"Groceries","amount":143.93,"taxDeductible":false},{"id":13,"date":"2024-06-26","merchant":"Home Depot","category":"Groceries","amount":53.79,"taxDeductible":false},{"id":14,"date":"2024-06-08","merchant":"Home Depot","category":"Medical","amount":274.73,"taxDeductible":true},{"id":15,"date":"2024-05-14","merchant":"Home Depot","category":"Electronics","amount":237.87,"taxDeductible":false},{"id":16,"date":"2024-04-24","merchant":"Best Buy","category":"Books","amount":463.37,"taxDeductible":false},{"id":17,"date":"2024-02-14","merchant":"Amazon","category":"Travel","amount":187.31,"taxDeductible":true},{"id":18,"date":"2024-02-09","merchant":"Best Buy","category":"Office Supplies","amount":54.73,"taxDeductible":true},{"id":19,"date":"2024-01-26","merchant":"Amazon","category":"Office Supplies","amount":405.99,"taxDeductible":true},{"id":20,"date":"2024-02-20","merchant":"Amazon","category":"Groceries","amount":353.98,"taxDeductible":false},{"id":21,"date":"2024-01-04","merchant":"Walgreens","category":"Office Supplies","amount":449.19,"taxDeductible":true},{"id":22,"date":"2024-05-17","merchant":"Staples","category":"Office Supplies","amount":320.14,"taxDeductible":true},{"id":23,"date":"2024-01-16","merchant":"Lowe\'s","category":"Electronics","amount":340.14,"taxDeductible":false},{"id":24,"date":"2024-06-25","merchant":"Target","category":"Books","amount":440.58,"taxDeductible":false},{"id":25,"date":"2024-03-25","merchant":"Nike","category":"Groceries","amount":433.47,"taxDeductible":false},{"id":26,"date":"2024-03-30","merchant":"Apple","category":"Groceries","amount":410.48,"taxDeductible":false},{"id":27,"date":"2024-04-28","merchant":"Lowe\'s","category":"Books","amount":143.99,"taxDeductible":false},{"id":28,"date":"2024-03-25","merchant":"Target","category":"Books","amount":224.91,"taxDeductible":false},{"id":29,"date":"2024-04-13","merchant":"Lowe\'s","category":"Groceries","amount":319.24,"taxDeductible":false},{"id":30,"date":"2024-03-02","merchant":"Whole Foods","category":"Medical","amount":66.62,"taxDeductible":true},{"id":31,"date":"2024-02-12","merchant":"Staples","category":"Travel","amount":317.84,"taxDeductible":true},{"id":32,"date":"2024-01-23","merchant":"Whole Foods","category":"Travel","amount":110.8,"taxDeductible":true},{"id":33,"date":"2024-05-28","merchant":"Staples","category":"Medical","amount":274.07,"taxDeductible":true},{"id":34,"date":"2024-06-13","merchant":"Staples","category":"Medical","amount":256.57,"taxDeductible":true},{"id":35,"date":"2024-04-09","merchant":"Staples","category":"Books","amount":313.87,"taxDeductible":false}]');var p=a(397);function b({data:e}){return(0,p.jsxs)(n.default,{style:y.wrapper,children:[(0,p.jsxs)(n.default,{style:y.headerRow,children:[(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Transaction ID"}),(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Date"}),(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Merchant"}),(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Amount"}),(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Category"}),(0,p.jsx)(d.default,{style:[y.cell,y.header],children:"Tax-Deductible"})]}),(0,p.jsx)(s.default,{style:y.body,children:e.map((e,t)=>(0,p.jsxs)(n.default,{style:y.dataRow,children:[(0,p.jsx)(d.default,{style:y.cell,children:e.id}),(0,p.jsx)(d.default,{style:y.cell,children:e.date}),(0,p.jsx)(d.default,{style:y.cell,children:e.merchant}),(0,p.jsxs)(d.default,{style:y.cell,children:["$",e.amount.toFixed(2)]}),(0,p.jsx)(d.default,{style:y.cell,children:e.category}),(0,p.jsx)(d.default,{style:[y.cell,e.taxDeductible&&y.deductible],children:e.taxDeductible?"Yes":"No"})]},t))})]})}const y=c.default.create({wrapper:{borderWidth:1,borderColor:"#ccc",maxHeight:500},headerRow:{flexDirection:"row",backgroundColor:"#1976d2",paddingVertical:8,paddingHorizontal:4},body:{flex:1},dataRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#eee",paddingVertical:6,paddingHorizontal:4},cell:{flex:1,fontSize:14,paddingHorizontal:4},header:{fontWeight:"bold",color:"white"},deductible:{color:"green",fontWeight:"bold"}});var x=a(9134);a(7503);function g(){const[e,t]=(0,l.useState)("2024-01-01"),[a,r]=(0,l.useState)((new Date).toISOString().split("T")[0]),[o,c]=(0,l.useState)(""),[y,g]=(0,l.useState)("all"),[j,v]=(0,l.useState)(""),[w,S]=(0,l.useState)(""),C=m.filter(t=>{const r=new Date(t.date),l=new Date(e),n=new Date(a),d=r>=l&&r<=n,i=""===o||t.merchant.toLowerCase().includes(o.toLowerCase())||t.category.toLowerCase().includes(o.toLowerCase()),c="all"===y||"yes"===y&&t.taxDeductible||"no"===y&&!t.taxDeductible,u=""===j||t.amount>=parseFloat(j),s=""===w||t.amount<=parseFloat(w);return d&&i&&c&&u&&s});return(0,p.jsxs)(s.default,{style:D.container,children:[(0,p.jsx)(d.default,{style:D.title,children:"Purchase History Report"}),(0,p.jsxs)(n.default,{style:D.filterBox,children:[(0,p.jsxs)(n.default,{style:D.inputGroup,children:[(0,p.jsx)(d.default,{children:"Start Date:"}),(0,p.jsx)(u.default,{style:D.input,value:e,onChangeText:t,placeholder:"YYYY-MM-DD"})]}),(0,p.jsxs)(n.default,{style:D.inputGroup,children:[(0,p.jsx)(d.default,{children:"End Date:"}),(0,p.jsx)(u.default,{style:D.input,value:a,onChangeText:r,placeholder:"YYYY-MM-DD"})]}),(0,p.jsx)(d.default,{style:D.label,children:"Search Merchant or Category:"}),(0,p.jsx)(u.default,{style:D.input,placeholder:"e.g. Amazon, Travel",value:o,onChangeText:c}),(0,p.jsx)(d.default,{style:D.label,children:"Tax Deductible:"}),(0,p.jsxs)(h.Picker,{selectedValue:y,onValueChange:e=>g(e),style:D.picker,children:[(0,p.jsx)(h.Picker.Item,{label:"All",value:"all"}),(0,p.jsx)(h.Picker.Item,{label:"Yes",value:"yes"}),(0,p.jsx)(h.Picker.Item,{label:"No",value:"no"})]}),(0,p.jsx)(d.default,{style:D.label,children:"Amount Range:"}),(0,p.jsxs)(n.default,{style:D.amountRow,children:[(0,p.jsx)(u.default,{style:D.amountInput,placeholder:"Min",keyboardType:"numeric",value:j,onChangeText:v}),(0,p.jsx)(u.default,{style:D.amountInput,placeholder:"Max",keyboardType:"numeric",value:w,onChangeText:S})]}),(0,p.jsx)(n.default,{style:D.buttonGroup,children:(0,p.jsx)(f.default,{onPress:()=>{t("2024-01-01"),r("2024-12-31"),c(""),g("all"),v(""),S("")},style:{backgroundColor:"#bfbfbf",padding:10,borderRadius:6},children:(0,p.jsx)(d.default,{style:{color:"black",textAlign:"center",fontWeight:"bold"},children:"Clear All Filters"})})})]}),0===C.length?(0,p.jsx)(d.default,{style:{marginTop:20,textAlign:"center"},children:"No purchases found."}):(0,p.jsx)(b,{data:C}),(0,p.jsx)(n.default,{style:D.buttonGroup,children:(0,p.jsx)(i.default,{title:"Export to CSV",onPress:()=>{!function(e,t="purchase_history.csv"){if(!e||0===e.length)return void alert("No data to export.");const a=Object.keys(e[0]),r=[a.join(",")];e.forEach(e=>{const t=a.map(t=>{let a=e[t];return"string"===typeof a&&(a=`"${a.replace(/"/g,'""')}"`),a});r.push(t.join(","))});const o=r.join("\n"),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(l),d=document.createElement("a");d.setAttribute("href",n),d.setAttribute("download",t),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),Alert.alert("Exported","Your CSV was generated.")}(C)}})}),(0,p.jsx)(n.default,{style:D.buttonGroup,children:(0,p.jsx)(i.default,{title:"Export to PDF",onPress:()=>{!function(e,t,a,r="",o="all",l="",n="",d="purchase_history.pdf"){if(!e||0===e.length)return void alert("No data to export.");const i=new x.default;i.setFontSize(18),i.text("Purchase History Report",14,15);const c=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=t instanceof Date?c(t):"Start Date",s=a instanceof Date?c(a):"End Date";i.setFontSize(10),i.text(`From ${u} to ${s}`,14,25),i.text(`Search: ${r||"None"}    Tax Deductible: ${o}`,14,32),i.text(`Amount Range: ${l||"Any"} - ${n||"Any"}`,14,39);const f=e.map(e=>[e.date,e.merchant,`$${e.amount.toFixed(2)}`,e.category,e.taxDeductible?"Yes":"No"]);i.autoTable({head:[["Date","Merchant","Amount","Category","Tax Deductible"]],body:f,startY:45,styles:{fontSize:10}}),i.save(d)}(C,new Date(e),new Date(a),o,y,j,w)}})})]})}const D=c.default.create({container:{paddingTop:50,paddingHorizontal:20,flex:1,backgroundColor:"#f9f9f9"},title:{fontSize:26,fontWeight:"bold",marginBottom:20,textAlign:"center",color:"#222"},filterBox:{backgroundColor:"#ffffff",padding:16,borderRadius:10,marginBottom:20,shadowColor:"#000",shadowOpacity:.05,shadowRadius:4,shadowOffset:{width:0,height:2}},inputGroup:{marginBottom:12},input:{borderWidth:1,borderColor:"#ccc",padding:8,borderRadius:6,marginTop:5},label:{marginTop:10,fontWeight:"600"},picker:{marginTop:5,marginBottom:10},amountRow:{flexDirection:"row",gap:10,marginBottom:10},amountInput:{flex:1,borderWidth:1,borderColor:"#ccc",padding:8,borderRadius:6},buttonGroup:{marginVertical:10,borderRadius:6,overflow:"hidden"}});(0,r.default)(function(){return(0,p.jsx)(o.default,{style:{flex:1},children:(0,p.jsx)(g,{})})})}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(t,r,o,l)=>{if(!r){var n=1/0;for(u=0;u<e.length;u++){for(var[r,o,l]=e[u],d=!0,i=0;i<r.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every(e=>a.O[e](r[i]))?r.splice(i--,1):(d=!1,l<n&&(n=l));if(d){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,o,l]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var l=Object.create(null);a.r(l);var n={};e=e||[null,t({}),t([]),t(t)];for(var d=2&o&&r;"object"==typeof d&&!~e.indexOf(d);d=t(d))Object.getOwnPropertyNames(d).forEach(e=>n[e]=()=>r[e]);return n.default=()=>r,a.d(l,n),l}})(),a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>"static/js/"+e+"."+{331:"be22c7d8",389:"034e283a",589:"d661d4d5"}[e]+".chunk.js",a.miniCssF=e=>{},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";a.l=(r,o,l,n)=>{if(e[r])e[r].push(o);else{var d,i;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var s=c[u];if(s.getAttribute("src")==r||s.getAttribute("data-webpack")==t+l){d=s;break}}d||(i=!0,(d=document.createElement("script")).charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.setAttribute("data-webpack",t+l),d.src=r),e[r]=[o];var f=(t,a)=>{d.onerror=d.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],d.parentNode&&d.parentNode.removeChild(d),o&&o.forEach(e=>e(a)),t)return t(a)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=f.bind(null,d.onerror),d.onload=f.bind(null,d.onload),i&&document.head.appendChild(d)}}})(),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/purchase-history-ui/",(()=>{var e={792:0};a.f.j=(t,r)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var l=new Promise((a,r)=>o=e[t]=[a,r]);r.push(o[2]=l);var n=a.p+a.u(t),d=new Error;a.l(n,r=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var l=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;d.message="Loading chunk "+t+" failed.\n("+l+": "+n+")",d.name="ChunkLoadError",d.type=l,d.request=n,o[1](d)}},"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,r)=>{var o,l,[n,d,i]=r,c=0;if(n.some(t=>0!==e[t])){for(o in d)a.o(d,o)&&(a.m[o]=d[o]);if(i)var u=i(a)}for(t&&t(r);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[664],()=>a(3116));r=a.O(r)})();
//# sourceMappingURL=main.60c628a1.js.map